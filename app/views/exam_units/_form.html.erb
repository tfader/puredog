<%= form_with model: [@exam, @exam_unit], autocomplete: :off, local: true do |form| %>

  <div class="form-group">
    <div class="form-text"><%= 'Jednostka' %></div>
    <%= form.collection_select :unit_id, @units.all.order(:name), :id, :name_with_code, include_blank: false,  multiple: false, :class => 'form-control', :option => 'Small select', autofocus: true %>
  </div>

  <% if @exam_unit.variety.present? %>
    <div class="form-group">
      <label><%= 'Gatunek' %></label>
      <%= form.text_field :variety_id, data: { autocomplete: autocomplete_variety_name_varieties_path }, 'data-auto-focus' => true, :class => 'form-control select', :option => 'Small select', value: @exam_unit.variety.name %>
    </div>
  <% else %>
    <div class="form-group">
      <label><%= 'Gatunek' %></label>
      <%= form.text_field :variety_id, data: { autocomplete: autocomplete_variety_name_varieties_path }, 'data-auto-focus' => true, :class => 'form-control select', :option => 'Small select' %>
    </div>
  <% end %>

  <div class="form-group">
    <label>Norma minimalna</label>
    <%= form.number_field :norm_min, class: 'form-control', :step => 0.00001, min_value: 0 %>
  </div>

  <div class="form-group">
    <label>Norma maksymalna</label>
    <%= form.number_field :norm_max, class: 'form-control', :step => 0.00001, min_value: 0 %>
  </div>

  <div class="form-group">
    <%= form.check_box :is_default, class: 'input', id: 'is_default', type: 'checkbox' %>
    <label><%= 'Domyślny' %></label>
  </div>

  <div class="mt-4">
    <div class="d-flex justify-content-between">
      <%= form.submit 'Zapisz', class: 'btn btn-sm btn-primary' %>
      <%= link_to 'Powrót', exam_exam_units_path(@exam), class: 'btn btn-sm btn-secondary' %>
    </div>
  </div>

<% end %>
